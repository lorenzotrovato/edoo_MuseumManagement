codetasty.revision.2.0
{"ts":1523576982,"restoring":false,"user_id":2789,"patch":[{"diffs":[[1,"<?php\n\n\tclass Database{\n\t\tprivate static $instance;\n\t\tprivate $mysqli;\n\n\t\tpublic function __construct(){\n\t\t\t$this->mysqli = new mysqli('localhost','5ia22','5ia22','5ia22');\n\t\t}\n\n\t\tpublic static function init(){\n\t\t\tif(is_null(self::$instance)){\n\t\t\tself::$instance = new Database();\n\t\t\t}\n\t\t\treturn self::$instance;\n\t\t}\n\n\t\tpublic function querySelect($query){\n\t\t\t$ret = array();\n\t\t\ttry{\n\t\t\t\t$ris = $this->mysqli->query($query);\n\t\t\t\treturn $ris->fetch_all(MYSQLI_ASSOC);\n\t\t\t}catch(Exception $e){\n\t\t\t\treturn $this->mysqli->error;\n\t\t\t}\n\t\t}\n\n\t\tpublic function queryDML($query){\n\t\t\ttry{\n\t\t\t\t$this->mysqli->query($query);\n\t\t\t\treturn $this->mysqli->affectedRows;\n\t\t\t}catch(Exception $e){\n\t\t\t\treturn $this->mysqli->error;\n\t\t\t}\n\t\t}\n\n\t\tpublic function numRows($query){\n\t\t\ttry{\n\t\t\t\t$ris = $this->mysqli->query($query);\n\t\t\t\treturn $ris->num_rows;\n\t\t\t}catch(Exception $e){\n\t\t\t\treturn $this->mysqli->error;\n\t\t\t}\n\t\t}\n\n\t\tpublic function error(){\n\t\t\treturn $this->mysqli->error_list;\n\t\t}\n\t}\n?>\n"]],"start1":0,"start2":0,"length1":0,"length2":974}],"length":974}
{"ts":1523953441,"restoring":false,"user_id":2862,"patch":[{"diffs":[[0,"atabase{"],[-1,""],[0,""],[1,"utghgjhgjh"],[0,"\n\t\tpriva"]],"start1":15,"start2":15,"length1":16,"length2":26},{"diffs":[[0,"ysqli;\n\n"],[1,"\t\t/**\n\t\t * Costruttore vuoto. Crea la connessione con il database\n\t\t */\n"],[0,"\t\tpublic"]],"start1":74,"start2":74,"length1":16,"length2":88},{"diffs":[[0,"\n\n\t\t"],[-1,"public static function init(){\n\t\t\tif(is_null(self::$instance)){\n\t\t\tself::$instance = new Database();\n\t\t\t}\n\t\t\treturn self::$instance;\n\t\t}\n"],[1,"/**\n\t\t * @return Database se una connessione è già stata istanziata ritorna l'istanza già presente, altrimenti ne istanza una nuova e la ritorna.\n\t\t */\n\t\tpublic static function init(){\n\t\t\tif(is_null(self::$instance)){\n\t\t\tself::$instance = new Database();\n\t\t\t}\n\t\t\treturn self::$instance;\n\t\t}\n\n\t\t/**\n\t\t * @param  string $query la query in linguaggio SQL di tipo SELECT\n\t\t * @return mixed se l'operazione è andata a buon fine ritorna un array bidimensionale (array) altrimenti ritorna l'errore (string)\n\t\t */"],[0,"\n\t\tp"]],"start1":258,"start2":258,"length1":145,"length2":513},{"diffs":[[0,"y){\n"],[-1,"\t\t\t$ret = array();\n"],[0,"\t\t\tt"]],"start1":803,"start2":803,"length1":27,"length2":8},{"diffs":[[0,"\n\n\t\t"],[-1,"public function queryDML($query){\n\t\t\ttry{\n\t\t\t\t$this->mysqli->query($query);\n\t\t\t\treturn $this->mysqli->affectedRows;\n\t\t\t}catch(Exception $e){\n\t\t\t\treturn $this->mysqli->error;\n\t\t\t}\n\t\t}\n"],[1,"/**\n\t\t * @param  string $query la query in linguaggio SQL di tipo DML\n\t\t * @return mixed se l'operazione è andata a buon fine ritorna il numero di righe affette (integer) altrimenti ritorna l'errore (string)\n\t\t */\n\t\tpublic function queryDML($query){\n\t\t\ttry{\n\t\t\t\t$this->mysqli->query($query);\n\t\t\t\treturn $this->mysqli->affectedRows;\n\t\t\t}catch(Exception $e){\n\t\t\t\treturn $this->mysqli->error;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * @param  string $query la query in linguaggio SQL\n\t\t * @return mixed se non ci sono errori il numero di righe ritornate dalla query (integer), altrimenti l'errore (string)\n\t\t */"],[0,"\n\t\tp"]],"start1":964,"start2":964,"length1":191,"length2":595},{"diffs":[[0,"\t}\n\t\t}\n\n"],[1,"\t\t/**\n\t\t * @return array una lista di errori, ogni elemento è un array associativo contenente errno, error, e sqlstate.\n\t\t */\n"],[0,"\t\tpublic"]],"start1":1727,"start2":1727,"length1":16,"length2":142}],"length":1935}
{"ts":1523953443,"restoring":false,"user_id":2862,"patch":[{"diffs":[[0,"ase{"],[-1,"utghgjhgjh"],[0,"\n\t\tp"]],"start1":19,"start2":19,"length1":18,"length2":8}],"length":1925}
{"ts":1523953451,"restoring":false,"user_id":2862,"patch":[{"diffs":[[0,"atabase{"],[1,"jjjjjjjjjjjjjjjjjjjj"],[0,"\n\t\tpriva"]],"start1":15,"start2":15,"length1":16,"length2":36}],"length":1945}
{"ts":1523953454,"restoring":false,"user_id":2862,"patch":[{"diffs":[[0,"ase{"],[-1,"jjjjjjjjjjjjjjjjjjjj"],[0,"\n\t\tp"]],"start1":19,"start2":19,"length1":28,"length2":8}],"length":1925}
{"ts":1523953468,"restoring":false,"user_id":2862,"patch":[{"diffs":[[-1,""],[0,""],[1,"MATTIA MAGLIE"],[0,"<?php\n\n\t"]],"start1":0,"start2":0,"length1":8,"length2":21},{"diffs":[[0,"$mysqli;"],[-1,""],[0,""],[1,"MATTIA MAGLIE"],[0,"\n\n\t\t/**\n"]],"start1":75,"start2":75,"length1":16,"length2":29},{"diffs":[[0,"tabase\n\t\t */"],[-1,""],[0,""],[1,"MATTIA MAGLIE"],[0,"\n\t\tpublic fu"]],"start1":157,"start2":157,"length1":24,"length2":37},{"diffs":[[0,"torna.\n\t\t */"],[-1,""],[0,""],[1,"MATTIA MAGLIE"],[0,"\n\t\tpublic st"]],"start1":430,"start2":430,"length1":24,"length2":37},{"diffs":[[0,"$query){\n\t\t\ttry{"],[1,"MATTIA MAGLIE"],[0,"\n\t\t\t\t$ris = $thi"]],"start1":840,"start2":840,"length1":32,"length2":45},{"diffs":[[0,"->query($query);"],[1,"MATTIA MAGLIE"],[0,"\n\t\t\t\treturn $ris"]],"start1":894,"start2":894,"length1":32,"length2":45},{"diffs":[[0,"_ASSOC);"],[1,"MATTIA MAGLIE"],[0,"\n\t\t\t}cat"]],"start1":957,"start2":957,"length1":16,"length2":29},{"diffs":[[0,"ueryDML($query){"],[1,"MATTIA MAGLIE"],[0,"\n\t\t\ttry{\n\t\t\t\t$th"]],"start1":1282,"start2":1282,"length1":32,"length2":45},{"diffs":[[0,"ffectedRows;"],[1,"MATTIA MAGLIE"],[0,"\n\t\t\t}catch(E"]],"start1":1381,"start2":1381,"length1":24,"length2":37},{"diffs":[[0,"->error;"],[-1,"\n\t\t\t}\n\t\t}\n\n\t\t/**"],[1,"MATTIA MAGLIE\n\t\t\t}\n\t\t}\nMATTIA MAGLIE\n\t\t/**MATTIA MAGLIE"],[0,"\n\t\t * @p"]],"start1":1456,"start2":1456,"length1":32,"length2":71},{"diffs":[[0,"numRows($query){"],[-1,""],[0,""],[1,"MATTIA MAGLIE"],[0,"\n\t\t\ttry{\n\t\t\t\t$ri"]],"start1":1720,"start2":1720,"length1":32,"length2":45},{"diffs":[[0,"->mysqli->error;"],[-1,""],[0,""],[1,"MATTIA MAGLIE"],[0,"\n\t\t\t}\n\t\t}\n\n\t\t/**"]],"start1":1867,"start2":1867,"length1":32,"length2":45}],"length":2107}
{"ts":1523953472,"restoring":false,"user_id":2862,"patch":[{"diffs":[[-1,"MATTIA MAGLIE"],[0,""],[1,""],[0,"<?php\n\n\t"]],"start1":0,"start2":0,"length1":21,"length2":8},{"diffs":[[0,"$mysqli;"],[-1,"MATTIA MAGLIE"],[0,""],[1,""],[0,"\n\n\t\t/**\n"]],"start1":62,"start2":62,"length1":29,"length2":16},{"diffs":[[0,"tabase\n\t\t */"],[-1,"MATTIA MAGLIE"],[0,""],[1,""],[0,"\n\t\tpublic fu"]],"start1":131,"start2":131,"length1":37,"length2":24},{"diffs":[[0,"a.\n\t\t */"],[-1,"MATTIA MAGLIE"],[0,""],[1,""],[0,"\n\t\tpubli"]],"start1":395,"start2":395,"length1":29,"length2":16},{"diffs":[[0,"\n\t\t\ttry{"],[-1,"MATTIA MAGLIE"],[0,"\n\t\t\t\t$ri"]],"start1":796,"start2":796,"length1":29,"length2":16},{"diffs":[[0,"$query);"],[-1,"MATTIA MAGLIE"],[0,"\n\t\t\t\tret"]],"start1":837,"start2":837,"length1":29,"length2":16},{"diffs":[[0,"_ASSOC);"],[-1,"MATTIA MAGLIE"],[0,"\n\t\t\t}cat"]],"start1":879,"start2":879,"length1":29,"length2":16},{"diffs":[[0,"DML($query){"],[-1,"MATTIA MAGLIE"],[0,"\n\t\t\ttry{\n\t\t\t"]],"start1":1195,"start2":1195,"length1":37,"length2":24},{"diffs":[[0,"tedRows;"],[-1,"MATTIA MAGLIE"],[0,"\n\t\t\t}cat"]],"start1":1281,"start2":1281,"length1":29,"length2":16},{"diffs":[[0,"ror;"],[-1,"MATTIA MAGLIE\n\t\t\t}\n\t\t}\nMATTIA MAGLIE\n\t\t/**MATTIA MAGLIE"],[1,"\n\t\t\t}\n\t\t}\n\n\t\t/**"],[0,"\n\t\t "]],"start1":1343,"start2":1343,"length1":63,"length2":24},{"diffs":[[0,"$query){"],[-1,"MATTIA MAGLIE"],[0,""],[1,""],[0,"\n\t\t\ttry{"]],"start1":1572,"start2":1572,"length1":29,"length2":16},{"diffs":[[0,"ror;"],[-1,"MATTIA MAGLIE"],[0,""],[1,""],[0,"\n\t\t\t"]],"start1":1710,"start2":1710,"length1":21,"length2":8}],"length":1925}