codetasty.revision.2.0
{"ts":1523576982,"restoring":false,"user_id":2789,"patch":[{"diffs":[[1,"<?php\n\n\tclass Database{\n\t\tprivate static $instance;\n\t\tprivate $mysqli;\n\n\t\tpublic function __construct(){\n\t\t\t$this->mysqli = new mysqli('localhost','5ia22','5ia22','5ia22');\n\t\t}\n\n\t\tpublic static function init(){\n\t\t\tif(is_null(self::$instance)){\n\t\t\tself::$instance = new Database();\n\t\t\t}\n\t\t\treturn self::$instance;\n\t\t}\n\n\t\tpublic function querySelect($query){\n\t\t\t$ret = array();\n\t\t\ttry{\n\t\t\t\t$ris = $this->mysqli->query($query);\n\t\t\t\treturn $ris->fetch_all(MYSQLI_ASSOC);\n\t\t\t}catch(Exception $e){\n\t\t\t\treturn $this->mysqli->error;\n\t\t\t}\n\t\t}\n\n\t\tpublic function queryDML($query){\n\t\t\ttry{\n\t\t\t\t$this->mysqli->query($query);\n\t\t\t\treturn $this->mysqli->affectedRows;\n\t\t\t}catch(Exception $e){\n\t\t\t\treturn $this->mysqli->error;\n\t\t\t}\n\t\t}\n\n\t\tpublic function numRows($query){\n\t\t\ttry{\n\t\t\t\t$ris = $this->mysqli->query($query);\n\t\t\t\treturn $ris->num_rows;\n\t\t\t}catch(Exception $e){\n\t\t\t\treturn $this->mysqli->error;\n\t\t\t}\n\t\t}\n\n\t\tpublic function error(){\n\t\t\treturn $this->mysqli->error_list;\n\t\t}\n\t}\n?>\n"]],"start1":0,"start2":0,"length1":0,"length2":974}],"length":974}